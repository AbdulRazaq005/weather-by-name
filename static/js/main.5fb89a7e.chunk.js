(this.webpackJsonpsunshine=this.webpackJsonpsunshine||[]).push([[0],{46:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),i=a(6),s=a.n(i),o=a(3),r=a(2);function l(e){var t=e.obj;return Object(r.jsxs)("div",{className:"current-report",children:[Object(r.jsx)("br",{}),Object(r.jsx)("h1",{children:"Weather Report"}),Object(r.jsx)("div",{className:"resImage"}),Object(r.jsx)("div",{className:"cityDetails",children:Object(r.jsxs)("h2",{id:"city",children:["Place : ",t.city,", ",t.country]})}),Object(r.jsxs)("div",{className:"resDetail",children:[Object(r.jsxs)("h2",{id:"temp",children:[t.temperature,"\xb0\u0421"]}),Object(r.jsxs)("h2",{className:"resNum",children:["Feels Like : ",t.feels_like]}),Object(r.jsxs)("h2",{className:"resNum",children:["Humidity : ",t.humidity]}),Object(r.jsxs)("h2",{id:"desc",children:["Main : ",t.main]}),Object(r.jsxs)("h2",{id:"desc",children:["Description : ",t.description]})]})]})}var u=a(48),d=a(49);a(27);function j(e){var t,a=e.mapObj,n=e.getReportByMap;console.log("mapObj: ",a);var i=Object(c.useState)([0,0]),s=Object(o.a)(i,2),l=s[0],j=s[1];Object(c.useEffect)((function(){j([a.lat,a.lon]),console.log("useEffect",l)}),[a.lat,a.lon]);var m=Object(c.useState)(null),b=Object(o.a)(m,2),h=b[0],p=b[1];function O(e){var n=e.map,i=Object(c.useState)(n.getCenter()),s=Object(o.a)(i,2),u=s[0],d=s[1];Object(c.useCallback)((function(){n.setView([0,0],3)}),[n]);Object(c.useEffect)((function(){console.log("map set to:",l),n.setView([a.lat,a.lon],a.zoom)}),[l]);var j=Object(c.useCallback)((function(){d(n.getCenter())}),[n]);return Object(c.useEffect)((function(){return n.on("move",j),d(n.getCenter()),function(){n.off("move",j)}}),[n,j]),Object(c.useEffect)((function(){t=[n.getCenter()]}),[n.getCenter()]),Object(r.jsxs)("p",{className:"map-indicator",children:["latitude: ",u.lat.toFixed(4),Object(r.jsx)("br",{}),"longitude: ",u.lng.toFixed(4)," "]})}var f=Object(c.useMemo)((function(){return Object(r.jsx)(u.a,{center:l,zoom:2,scrollWheelZoom:!0,whenCreated:p,className:"map",children:Object(r.jsx)(d.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})})}),[]);return Object(r.jsxs)(r.Fragment,{children:[h?Object(r.jsx)(O,{map:h}):null,f,Object(r.jsx)("button",{className:"get-location-report-btn",onClick:function(){console.log("currentPos:",t[0].lat),n(t[0].lat.toFixed(4),t[0].lng.toFixed(4))},children:"Get Report for this Location"})]})}var m=a(19);function b(e){var t=e.fun,a=Object(c.useState)(""),n=Object(o.a)(a,2),i=n[0],s=n[1];return Object(r.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(i)},children:Object(r.jsxs)("div",{className:"search-bar",children:[Object(r.jsx)("input",{type:"text",name:"cityname",className:"search-input",placeholder:"Enter City Name or Pincode",onChange:function(e){s(e.target.value)}}),Object(r.jsx)(m.a,{className:"search-icon",onClick:function(){console.log("Search:",i),t(i)}})]})})}var h=a(20),p=a(10),O=a.n(p);var f=function(){var e=Object(c.useState)(0),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)({temperature:0,city:"city",country:"country",humidity:0,feels_like:0,main:"condition",description:"overall weather"}),s=Object(o.a)(i,2),u=s[0],d=s[1],m=Object(c.useState)({lat:0,lon:0,zoom:3}),p=Object(o.a)(m,2),f=p[0],x=p[1],g=Object(c.useState)(""),y=Object(o.a)(g,2),v=y[0],N=y[1];return Object(c.useEffect)((function(){v&&O.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(v,"&units=metric&appid=da41a288bd22dd27ea33849666faa2a3")).then((function(e){console.log(e.data),d({temperature:e.data.main.temp,city:e.data.name,country:e.data.sys.country,humidity:e.data.main.humidity,feels_like:e.data.main.feels_like,main:e.data.weather[0].main,description:e.data.weather[0].description}),x({lat:e.data.coord.lat,lon:e.data.coord.lon,zoom:14})})).catch((function(e){alert("Invalid City Name"),console.log(e)})).then((function(){}))}),[v,a]),Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(b,{fun:function(e){N(e),n(a+1)}}),Object(r.jsxs)("div",{className:"top-container",children:[Object(r.jsx)(l,{obj:u}),Object(r.jsxs)("div",{className:"map-container",children:[Object(r.jsx)(j,{mapObj:f,getReportByMap:function(e,t){O.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&units=metric&appid=da41a288bd22dd27ea33849666faa2a3")).then((function(a){d({temperature:a.data.main.temp,city:a.data.name,country:a.data.sys.country,humidity:a.data.main.humidity,feels_like:a.data.main.feels_like,main:a.data.weather[0].main,description:a.data.weather[0].description}),x({lat:e,lon:t,zoom:12})})).catch((function(e){console.log(e)})).then((function(){}))}}),Object(r.jsx)(h.a,{size:"32",className:"map-marker"})]})]})]})};s.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(f,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.5fb89a7e.chunk.js.map